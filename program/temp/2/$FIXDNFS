 CustomDNFS 1.20 =============== J.G.Harston 70 Camm Street, Walkley, Sheffield S6 3TR jgh@arcade.demon.co.ukMost BBC model Bs use DNFS 3.00 which contains DFS 1.20 and NFS 3.60. DFS 1.20 interfaces with the 8271 floppy disk controller and has manyinprovements and major corrections fROM DFS 0.90. NFS 3.60 has many majorcorrections fROM the previous main release 3.34.The NFS defaults to a fileserver at station 0.254 and a printer server atstation 0.235. Many systems have a printer server at the same station asthe file server, and on a network with multiple bridges, this would meankeeping BBCs on the same subnet as the fileserver. This program allowsyou to change these default settings.There is a slight problem with DFS 1.20 if you use it with 3.5" diskdrives. DFS 1.20 does not give the drives sufficient time to become readyand so times out too early and returns 'Disk error 10' (Drive not ready)errors. This program allows you to insert a patch so that disk accessalways waits until the drives are ready. This results in DFS 1.21.To use CustomDNFS you need a ROM image of DNFS. You can do this using thesupplied SrSave command, and you need to know which ROM slot you have DNFSin. If you have a *ROMS command, this will tell you. Otherwise, theeasiest way to find out is to look inside. The ROM sockets are at thefront of the PCB just under the keyboard to the right. Slot 15 is therightmost one, and they count down to 12 going to the left. If the DNFSROM is in slot 14 (&E in hex), then use *SrSave to save the ROM image asfollows: *SrSave DNFS 8000+4000 EOnce you have a ROM image, run CustomDNFS. You will be asked for the nameof the ROM image to load. At this prompt you can also do *commands. Ifyou just press RETURN, the default of 'DNFS3-00' will be used.You will then be shown what the current settings are as follows: Customise DNFS for BBC B/B+ =========================== Machine type: &0001 - Acorn BBC NFS version: 3.60 Fileserver: 000.254 Printer server: 000.235 DFS version: DFS 1.20Pressing RETURN will move between each option. Entering a new value orYES to the 'Change to fix timeouts?' prompt for DFS will update thatoption. The fileserver and the printer server must be on the samenetwork. Changing either will change both.If the image loaded is an 8k NFS ROM, the DFS option will be disabled.When entering 'Yes' to the 'Ok?' prompt the program ends and displays thecommand to use to save the new ROM image. This can now be blown into anEPROM and fitted permanently.Version History===============06-06-1998 V1.20 JGH: Timeouts fix for DFS added, default filenameoffered, checks loaded file appears to be DNFS. Checks if only 8k NFS ROM.20-11-1997 V1.10 JGH: Allows customisation of NFS default settings formachine type, version, fileserver station and printer server station.